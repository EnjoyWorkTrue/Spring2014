package utils;

import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;

import android.util.Log;

import com.google.gdata.client.calendar.CalendarService;
import com.google.gdata.data.calendar.CalendarEntry;
import com.google.gdata.data.calendar.CalendarFeed;
import com.google.gdata.util.AuthenticationException;
import com.google.gdata.util.ServiceException;

public class googleCalendar {
	CalendarService client;
	CalendarFeed resultFeed;
	public googleCalendar(){
	client = new CalendarService("My First App");
	try {
		client.setUserCredentials("dldytpq234@gmail.com","dlfdlf11");
	} catch (AuthenticationException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
	}
public void getFeed() throws IOException, ServiceException{
	try {
		URL feedUrl = new URL("https://www.google.com/calendar/feeds/default/allcalendars/full");
		resultFeed = client.getFeed(feedUrl,CalendarFeed.class);
	} catch (MalformedURLException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
	
	for(int i = 0; i<resultFeed.getEntries().size(); i++){
		CalendarEntry entry = resultFeed.getEntries().get(i);
		Log.i("google calendar",entry.getTitle().getPlainText());
		
	}
	
	
	
}
}
