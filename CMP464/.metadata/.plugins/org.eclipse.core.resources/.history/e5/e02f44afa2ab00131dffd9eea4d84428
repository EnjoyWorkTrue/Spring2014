package com.example.googlecalendar;

import java.text.DateFormat;

import java.text.Format;
import android.app.Activity;
import android.database.Cursor;
import android.os.Bundle;
import android.provider.CalendarContract;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;

public class MainActivity extends Activity {
	TextView tv;
	private Cursor mCursor = null;
	private static final String[] COLS = new String[]
			{ CalendarContract.Events.TITLE, CalendarContract.Events.DTSTART};


			
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		mCursor = getContentResolver().query(
				CalendarContract.Events.CONTENT_URI,
				COLS,
				null,
				null,
				null);
		mCursor.moveToFirst();
		
		
		
		
		
	}
	
	
	public void After(View v){
		if(!mCursor.isLast()) mCursor.moveToNext();
		DateFormat df = DateFormat.getDateInstance();
		DateFormat tf = DateFormat.getTimeInstance();
		
		String title = mCursor.getString(0);
		long start = mCursor.getLong(1);
		
		tv.setText(title+" on "+df.format(start)+" at "+tf.format(start));
	}
	public void Before(View v){
		Toast.makeText(this, "hello", 0).show();
	}

}
